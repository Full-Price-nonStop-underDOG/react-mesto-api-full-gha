{"ast":null,"code":"import{React,useContext}from'react';import CurrentUserContext from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(props){var _props$card,_props$card2,_props$card3,_props$card4,_props$card5,_props$card6;var currentUser=useContext(CurrentUserContext);var isOwn=((_props$card=props.card)===null||_props$card===void 0?void 0:_props$card.owner)===currentUser._id;var isLiked=(_props$card2=props.card)===null||_props$card2===void 0?void 0:_props$card2.likes.some(function(i){return i===currentUser._id;});var cardLikeButtonClassName=\"mesto__like \".concat(isLiked&&'mesto__like_active');function handleClick(){props.onCardClick(props.card);}function handleLikeClick(){props.onCardLike(props.card);}var handleDeleteClick=function handleDeleteClick(){props.onCardDelete(props.card);};return/*#__PURE__*/_jsxs(\"div\",{className:\"mesto\",children:[isOwn&&/*#__PURE__*/_jsx(\"button\",{className:\"mesto__delete\",type:\"button\",\"aria-label\":\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\",onClick:handleDeleteClick}),/*#__PURE__*/_jsx(\"div\",{className:\"mesto__img\",style:{backgroundImage:\"url(\".concat((_props$card4=props.card)===null||_props$card4===void 0?void 0:_props$card4.link,\")\")},onClick:handleClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"mesto__non-image\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mesto__title\",children:(_props$card5=props.card)===null||_props$card5===void 0?void 0:_props$card5.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"mesto__like-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardLikeButtonClassName,type:\"button\",\"aria-label\":\"\\u041B\\u0430\\u0439\\u043A\",onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"p\",{className:\"mesto__amount-like\",children:(_props$card6=props.card)===null||_props$card6===void 0?void 0:_props$card6.likes.length})]})]})]},(_props$card3=props.card)===null||_props$card3===void 0?void 0:_props$card3._id);}export default Card;","map":{"version":3,"names":["React","useContext","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","Card","props","_props$card","_props$card2","_props$card3","_props$card4","_props$card5","_props$card6","currentUser","isOwn","card","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","concat","handleClick","onCardClick","handleLikeClick","onCardLike","handleDeleteClick","onCardDelete","className","children","type","onClick","style","backgroundImage","link","name","length"],"sources":["/Users/bogdanus/Desktop/dev/react-mesto-auth/src/components/Card.js"],"sourcesContent":["import { React, useContext } from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const isOwn = props.card?.owner === currentUser._id;\n  const isLiked = props.card?.likes.some((i) => i === currentUser._id);\n  const cardLikeButtonClassName = `mesto__like ${\n    isLiked && 'mesto__like_active'\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  const handleDeleteClick = () => {\n    props.onCardDelete(props.card);\n  };\n\n  return (\n    <div className='mesto' key={props.card?._id}>\n      {isOwn && (\n        <button\n          className='mesto__delete'\n          type='button'\n          aria-label='Удалить'\n          onClick={handleDeleteClick}\n        />\n      )}\n\n      <div\n        className='mesto__img'\n        style={{ backgroundImage: `url(${props.card?.link})` }}\n        onClick={handleClick}\n      />\n      <div className='mesto__non-image'>\n        <h2 className='mesto__title'>{props.card?.name}</h2>\n        <div className='mesto__like-container'>\n          <button\n            className={cardLikeButtonClassName}\n            type='button'\n            aria-label='Лайк'\n            onClick={handleLikeClick}\n          ></button>\n          <p className='mesto__amount-like'>{props.card?.likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n"],"mappings":"AAAA,OAASA,KAAK,CAAEC,UAAU,KAAQ,OAAO,CACzC,MAAO,CAAAC,kBAAkB,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhE,QAAS,CAAAC,IAAIA,CAACC,KAAK,CAAE,KAAAC,WAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CACnB,GAAM,CAAAC,WAAW,CAAGd,UAAU,CAACC,kBAAkB,CAAC,CAElD,GAAM,CAAAc,KAAK,CAAG,EAAAP,WAAA,CAAAD,KAAK,CAACS,IAAI,UAAAR,WAAA,iBAAVA,WAAA,CAAYS,KAAK,IAAKH,WAAW,CAACI,GAAG,CACnD,GAAM,CAAAC,OAAO,EAAAV,YAAA,CAAGF,KAAK,CAACS,IAAI,UAAAP,YAAA,iBAAVA,YAAA,CAAYW,KAAK,CAACC,IAAI,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,GAAKR,WAAW,CAACI,GAAG,GAAC,CACpE,GAAM,CAAAK,uBAAuB,gBAAAC,MAAA,CAC3BL,OAAO,EAAI,oBAAoB,CAC/B,CAEF,QAAS,CAAAM,WAAWA,CAAA,CAAG,CACrBlB,KAAK,CAACmB,WAAW,CAACnB,KAAK,CAACS,IAAI,CAAC,CAC/B,CAEA,QAAS,CAAAW,eAAeA,CAAA,CAAG,CACzBpB,KAAK,CAACqB,UAAU,CAACrB,KAAK,CAACS,IAAI,CAAC,CAC9B,CAEA,GAAM,CAAAa,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC9BtB,KAAK,CAACuB,YAAY,CAACvB,KAAK,CAACS,IAAI,CAAC,CAChC,CAAC,CAED,mBACEX,KAAA,QAAK0B,SAAS,CAAC,OAAO,CAAAC,QAAA,EACnBjB,KAAK,eACJZ,IAAA,WACE4B,SAAS,CAAC,eAAe,CACzBE,IAAI,CAAC,QAAQ,CACb,aAAW,4CAAS,CACpBC,OAAO,CAAEL,iBAAkB,CAC5B,CACF,cAED1B,IAAA,QACE4B,SAAS,CAAC,YAAY,CACtBI,KAAK,CAAE,CAAEC,eAAe,QAAAZ,MAAA,EAAAb,YAAA,CAASJ,KAAK,CAACS,IAAI,UAAAL,YAAA,iBAAVA,YAAA,CAAY0B,IAAI,KAAI,CAAE,CACvDH,OAAO,CAAET,WAAY,CACtB,CAAC,cACFpB,KAAA,QAAK0B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B7B,IAAA,OAAI4B,SAAS,CAAC,cAAc,CAAAC,QAAA,EAAApB,YAAA,CAAEL,KAAK,CAACS,IAAI,UAAAJ,YAAA,iBAAVA,YAAA,CAAY0B,IAAI,CAAK,CAAC,cACpDjC,KAAA,QAAK0B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC7B,IAAA,WACE4B,SAAS,CAAER,uBAAwB,CACnCU,IAAI,CAAC,QAAQ,CACb,aAAW,0BAAM,CACjBC,OAAO,CAAEP,eAAgB,CAClB,CAAC,cACVxB,IAAA,MAAG4B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAAnB,YAAA,CAAEN,KAAK,CAACS,IAAI,UAAAH,YAAA,iBAAVA,YAAA,CAAYO,KAAK,CAACmB,MAAM,CAAI,CAAC,EAC7D,CAAC,EACH,CAAC,IAAA7B,YAAA,CA1BoBH,KAAK,CAACS,IAAI,UAAAN,YAAA,iBAAVA,YAAA,CAAYQ,GA2BnC,CAAC,CAEV,CAEA,cAAe,CAAAZ,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}