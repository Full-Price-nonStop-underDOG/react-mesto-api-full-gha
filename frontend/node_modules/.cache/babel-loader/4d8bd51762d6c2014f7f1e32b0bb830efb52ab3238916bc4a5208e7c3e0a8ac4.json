{"ast":null,"code":"import _slicedToArray from\"/Users/bogdanus/Desktop/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import PopupWithForm from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddPlacePopup(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),link=_useState4[0],setLink=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];function handleNewNameChange(event){setName(event.target.value);}function handleNewLinkChange(event){setLink(event.target.value);}function handleSubmit(e){e.preventDefault();setError(\"\");// Clear previous error message\nif(name.length>30){setError(\"Название должно содержать максимум 30 символов\");return;}// Send request to the server\nprops.onAddPlace({name:name,link:link},setError// Pass setError as a callback to handle errors\n);}function handleClose(){setName(\"\");setLink(\"\");setError(\"\");// Clear the error message when the popup is closed\nprops.onClose();}useEffect(function(){if(!props.isOpen){setName(\"\");setLink(\"\");setError(\"\");// Clear the error message when the popup is closed\n}},[props.isOpen]);return/*#__PURE__*/_jsxs(PopupWithForm,{title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",name:\"new-card\",isOpen:props.isOpen,onClose:handleClose,onSubmit:handleSubmit,textButton:props.isLoading?\"Добавление...\":\"Добавить\",children:[/*#__PURE__*/_jsx(\"input\",{minLength:\"4\",maxLength:\"30\",className:\"form__field form__text\",id:\"form__field-card-text\",name:\"name\",value:name,onChange:handleNewNameChange,placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",required:true}),error&&/*#__PURE__*/_jsx(\"span\",{className:\"form__field-card-text-error form__field-error text-input-error form__field-error_visible\",children:error}),/*#__PURE__*/_jsx(\"span\",{className:\"form__field-card-text-error form__field-error text-input-error\",children:\"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0431\\u044B\\u0442\\u044C \\u043D\\u0435 \\u043A\\u043E\\u0440\\u043E\\u0447\\u0435 2 \\u0441\\u0438\\u043C\\u0432. \\u0414\\u043B\\u0438\\u043D\\u0430 \\u0442\\u0435\\u043A\\u0441\\u0442\\u0430 \\u0441\\u0435\\u0439\\u0447\\u0430\\u0441: 1 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B.\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",className:\"form__field form__text\",id:\"form__field-card-image\",name:\"link\",value:link,onChange:handleNewLinkChange,placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__field-card-image-error form__field-error image-input-error\",children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 URL\"})]});}export default AddPlacePopup;","map":{"version":3,"names":["React","useState","useEffect","PopupWithForm","jsx","_jsx","jsxs","_jsxs","AddPlacePopup","props","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","link","setLink","_useState5","_useState6","error","setError","handleNewNameChange","event","target","value","handleNewLinkChange","handleSubmit","e","preventDefault","length","onAddPlace","handleClose","onClose","isOpen","title","onSubmit","textButton","isLoading","children","minLength","maxLength","className","id","onChange","placeholder","required","type"],"sources":["/Users/bogdanus/Desktop/dev/react-mesto-auth/src/components/AddPlacePopup.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  function handleNewNameChange(event) {\n    setName(event.target.value);\n  }\n\n  function handleNewLinkChange(event) {\n    setLink(event.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setError(\"\"); // Clear previous error message\n    if (name.length > 30) {\n      setError(\"Название должно содержать максимум 30 символов\");\n      return;\n    }\n    // Send request to the server\n    props.onAddPlace(\n      {\n        name,\n        link,\n      },\n      setError // Pass setError as a callback to handle errors\n    );\n  }\n\n  function handleClose() {\n    setName(\"\");\n    setLink(\"\");\n    setError(\"\"); // Clear the error message when the popup is closed\n    props.onClose();\n  }\n\n  useEffect(() => {\n    if (!props.isOpen) {\n      setName(\"\");\n      setLink(\"\");\n      setError(\"\"); // Clear the error message when the popup is closed\n    }\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"new-card\"\n      isOpen={props.isOpen}\n      onClose={handleClose}\n      onSubmit={handleSubmit}\n      textButton={props.isLoading ? \"Добавление...\" : \"Добавить\"}\n    >\n      <input\n        minLength=\"4\"\n        maxLength=\"30\"\n        className=\"form__field form__text\"\n        id=\"form__field-card-text\"\n        name=\"name\"\n        value={name}\n        onChange={handleNewNameChange}\n        placeholder=\"Название\"\n        required\n      />\n      {error && (\n        <span className=\"form__field-card-text-error form__field-error text-input-error form__field-error_visible\">\n          {error}\n        </span>\n      )}\n      <span className=\"form__field-card-text-error form__field-error text-input-error\">\n        Текст должен быть не короче 2 симв. Длина текста сейчас: 1 символ.\n      </span>\n      <input\n        type=\"url\"\n        className=\"form__field form__text\"\n        id=\"form__field-card-image\"\n        name=\"link\"\n        value={link}\n        onChange={handleNewLinkChange}\n        placeholder=\"Ссылка на картинку\"\n        required\n      />\n\n      <span className=\"form__field-card-image-error form__field-error image-input-error\">\n        Введите URL\n      </span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}